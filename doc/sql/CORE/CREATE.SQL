CREATE TABLE UTILISATEURS
(
   id INT AUTO_INCREMENT NOT NULL
   , nom VARCHAR(50) NOT NULL
   , prenom VARCHAR(50) NOT NULL
   , mail VARCHAR(70) NOT NULL UNIQUE
   , mdp CHAR(60) NOT NULL
   , CONSTRAINT PK_USER PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE ADMINS
(
   id INT AUTO_INCREMENT NOT NULL
   , id_utilisateur INT NOT NULL
   , CONSTRAINT PK_ADMIN PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE LIGUES
(
   id INT AUTO_INCREMENT NOT NULL
   , nom VARCHAR(50) NOT NULL
   , CONSTRAINT PK_LIGUE PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE PLACES
(
   id INT AUTO_INCREMENT NOT NULL
   , numero CHAR(10) UNIQUE NOT NULL
   , CONSTRAINT PK_PLACE PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE STATUTS
(
   id TINYINT NOT NULL
   , nom VARCHAR(10) NOT NULL
   , CONSTRAINT PK_STATUT PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE PERSONNELS
(
   id INT AUTO_INCREMENT NOT NULL
   , id_utilisateur INT NOT NULL
   , statut SMALLINT
        CHECK (statut BETWEEN 0 AND 2)
   , id_ligue INT
   , CONSTRAINT PK_PERSONNEL PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE RESERVATIONS
(
   id INT AUTO_INCREMENT
   , date_demande DATE NOT NULL
   , date_debut DATE NOT NULL
   , date_fin DATE NOT NULL
   , id_personnel INT NOT NULL
   , type_statut TINYINT NOT NULL
   , id_place INT NOT NULL
   , rang BIGINT UNIQUE
   , CONSTRAINT PK_RESERVATION PRIMARY KEY(id)
) ENGINE=InnoDB;
