CREATE TABLE UTILISATEURS
(
   id INT UNSIGNED AUTO_INCREMENT NOT NULL
   , nom VARCHAR(50) NOT NULL
   , prenom VARCHAR(50) NOT NULL
   , mail VARCHAR(70) NOT NULL UNIQUE
   , mdp CHAR(60) NOT NULL
   , CONSTRAINT PK_USER PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE ADMINS
(
   id INT UNSIGNED AUTO_INCREMENT NOT NULL
   , id_utilisateur INT UNSIGNED NOT NULL
   , CONSTRAINT PK_ADMIN PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE LIGUES
(
   id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL
   , nom VARCHAR(50) NOT NULL
   , CONSTRAINT PK_LIGUE PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE PLACES
(
   id INT UNSIGNED AUTO_INCREMENT NOT NULL
   , numero CHAR(5) UNIQUE NOT NULL
   , disponible TINYINT(1) NOT NULL
   , CONSTRAINT PK_PLACE PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE STATUTS
(
   id TINYINT UNSIGNED NOT NULL
   , nom VARCHAR(10) NOT NULL
   , CONSTRAINT PK_STATUT PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE PERSONNELS
(
   id INT UNSIGNED AUTO_INCREMENT NOT NULL
   , id_utilisateur INT UNSIGNED NOT NULL
   , statut SMALLINT UNSIGNED NOT NULL
        CHECK (statut BETWEEN 0 AND 2)
   , rang INT UNIQUE
   , id_ligue SMALLINT UNSIGNED NOT NULL
   , CONSTRAINT PK_PERSONNEL PRIMARY KEY(id)
) ENGINE=InnoDB;

CREATE TABLE RESERVATIONS
(
   id INT UNSIGNED AUTO_INCREMENT
   , date_demande DATETIME NOT NULL
   , date_expiration DATETIME NOT NULL
   , id_personnel INT UNSIGNED NOT NULL
   , type_statut TINYINT UNSIGNED NOT NULL
   , id_place INT UNSIGNED
   , CONSTRAINT PK_RESERVATION PRIMARY KEY(id)
) ENGINE=InnoDB;
